{% load widget_tweaks %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Portflikr</title>
    <link href="{% static 'pfapp/css/dash.css' %}" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Aleo:wght@400;700&family=Alice&family=Inter:wght@300&family=Montserrat:wght@700&family=Poppins:wght@300&display=swap" rel="stylesheet"> <link rel="shortcut icon" type="image/png" href="{% static 'pfapp/img/logo.png' %}" >
    <link rel="shortcut icon" type="image/png" href="{% static 'pfapp/img/logo.png' %}" >
    <link rel="icon" type="image/x-icon" href="{% static 'pfapp/img/logo.png' %}">
</head>
<body>
    <!-- Animation Container with structure 
            animation-container ->
        left                    right
    -->
    <div class="animation-container">
        <div class="left">
        </div>
        <div class="right">
        </div>
    </div>

    <!-- 
        Nav -> nav--logo
     -->
    <div class="Nav">
        <img id='nav--logo' src="{% static 'pfapp/img/logo.png' %} ">PortFlikr
    </div>

    <!-- 
        main
        heading                 tabs                            forms-first             forms-proj-(p.pk)       forms-proj-new       make
            Info                    tab--profile                    formhead                formhead                formhead
            btn--logout                 tab--header &logo           actualform              actualform              actualform
                                        li|tab--profile--1              hidden=-1               hidden=(p.pk)          hidden=new
                                    tab--projects                       fields                  fields                 fields
                                        tab--header &logo               btn--submit             btn--submit            btn--submit
                                        tab--projects--(p.pk)   
                                            a|p.pk
                                        tab--projects--new
                                            a|new
     -->
    <div class="main">
        <div class="heading">
            <div class="Info">
                Account Dashboard - {{user.first_name}} {{user.last_name}}
            </div>
            <a href="{% url 'pfapp:logout' %}" class="btn--logout">
                Log Out 
            </a>
        </div>
        <div class="tabs">
            <div class="tab--profile">
                <h4 class="tab--header"><img class='tab--logo' src="{% static 'pfapp/img/usericon-gray.png' %}"> Personal </h4>
                <ul>
                    <li id="tab--profile--1"><a class="-1" href="">Profile</a></li>
                </ul>
            </div>
            <div class="tab--projects">
                <h4 class="tab--header"><img class='tab--logo' src="{% static 'pfapp/img/project-gray.png' %}"> Projects </h4>
                <ul>
                    {% for p in projects %}
                        <li id="tab--projects-{{p.pk}}"><a class="{{p.pk}}">{{p.project_name}}</a></li>
                    {% endfor %}
                    <li id="tab--projects-new"><a class="new"></a></li>
                </ul>
            </div>
        </div>




        <div class="forms-first">
            <div class="formhead">Profile Settings</div>
            <form class="actualform" method = "POST" action = "">
                {% csrf_token %}
                <input type="hidden" name="projectID" value="-1">
                <div class="half">
                    First Name
                    {% render_field user_form.first_name placeholder=user.first_name value=user.first_name class="formfields" %}
                </div>
                <div class="half">
                    Last Name
                    {% render_field user_form.last_name placeholder=user.last_name value=user.last_name class="formfields" %}
                </div>
                <div class="full">
                    Username
                    {% render_field user_form.username placeholder=user.username value=user.username class="formfields" %}
                </div>
                <div class="full">
                    Email
                    {% render_field user_form.email placeholder=user.email  value=user.email class="formfields" %}
                </div>
                <div class="full">
                    Occupation
                    {% render_field personal_form.occupation placeholder=user.person.occupation value=user.person.occupation class="formfields" %}
                </div>
                <div class="submit-btn-enclosure">
                    <input type="submit" class="btn--submit" value="Update" />
                </div>
            </form>
        </div>

        {% for p in projects %}
        <div class="forms-proj-{{p.pk}}" >
            <div class="formhead">Project Settings - {{p.project_name}}</div>
            <form class="actualform" method = "POST" action = "" novalidate>
                    {% csrf_token %}
                    <input type="hidden" name="projectID" value="{{p.pk}}">
                    <div class="full">
                        Project Name
                        {% render_field projects_form.project_name placeholder=p.project_name value=p.project_name class="formfields" %}
                    </div>
                    <div class="full">
                        Link to Project
                        {% render_field projects_form.url placeholder=p.url value=p.url class="formfields" %}
                    </div>
                    <div class="full">
                        Description
                        {% render_field projects_form.desc placeholder=p.desc class="formfields desc" %}
                    </div>
                    <div class="submit-btn-enclosure">
                        <input type="submit" name="btn--delete" class="btn--delete" value="Delete" />
                        <input type="submit" class="btn--submit" value="Update" />
                    </div>
                </form>
            </div>
        {%endfor%}
        
        <div class="forms-proj-new">
            <div class="formhead">Project Settings</div>
                <form class="actualform" method = "POST" action = "" novalidate>
                    {% csrf_token %}
                    <input type="hidden" name="projectID" value="new">
                    <div class="full">
                        Project Name
                        {% render_field projects_form.project_name placeholder=p.project_name class="formfields" %}
                    </div>
                    <div class="full">
                        Link to Project
                        {% render_field projects_form.url placeholder=p.url class="formfields" %}
                    </div>
                    <div class="full">
                        Description
                        {% render_field projects_form.desc placeholder=p.desc class="formfields desc" %}
                    </div>
                    <div class="submit-btn-enclosure">
                        <input type="submit" class="btn--submit" value="Add" />
                    </div>
                    
                </form>
            </div>

        <div class="make">
            <a href="{% url 'pfapp:portfolio' 1 %}" class="btn--create">
                Create Portfolio 
            </a>
        </div>
    </div>










    <!-- Loading -->
    <div id="loading">
        <img id="loading-image" src="{% static 'pfapp/img/spinner.svg'%}" alt="Loading..." />
    </div>

</body>
    <script src="{% static 'pfapp/js/jquery-3.7.0.min.js' %}"></script>
    <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="{% static 'pfapp/js/dashboard.js' %}"></script>
</html>
